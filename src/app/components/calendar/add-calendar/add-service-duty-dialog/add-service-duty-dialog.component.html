<h2 mat-dialog-title class="mb-3">
  <i class="fa-solid fa-plus"></i> {{ lang.addNewDuty }}
</h2>

<div mat-dialog-content>
  <form [formGroup]="dutyForm">

    <div class="row g-3">

      <!-- Duty Name -->
      <div class="col-12 col-md-6">
        <label class="form-label">{{ lang.name }}</label>
        <input formControlName="name" class="form-control" type="text">
      </div>

      <!-- Description -->
      <div class="col-12 col-md-6">
        <label class="form-label">{{ lang.description }}</label>
        <input formControlName="description" class="form-control" type="text">
      </div>

      <!-- Customer -->
      <div class="col-12">
        <label class="form-label">
          <i class="fa-solid fa-user"></i> Müşteri Adı
        </label>
        <ng-select 
          [items]="customers"
          bindLabel="companyName"
          bindValue="id"
          formControlName="customerId">
        </ng-select>
      </div>

      <!-- Signature Pad -->
      <div class="col-12">
        <label class="form-label d-block">
          <i class="fa-solid fa-signature"></i> İmza
        </label>

        <div class="border rounded shadow-sm p-2 bg-white" style="width: 100%; overflow: hidden;">
          <signature-pad 
            [options]="signaturePadOptions"
            (onBeginEvent)="drawStart()"
            (onEndEvent)="drawComplete()">
          </signature-pad>
        </div>

        <button type="button"
                class="btn btn-secondary w-100 mt-2"
                (click)="clearPad()">
          <i class="fa-solid fa-eraser"></i> İmzayı Temizle
        </button>
      </div>

    </div>

  </form>
</div>

<!-- Footer -->
<div mat-dialog-actions class="d-flex justify-content-end gap-2 mt-3">
  <button class="btn btn-light" mat-button (click)="close(null)">
    <i class="fa-solid fa-circle-xmark"></i> {{ lang.cancel }}
  </button>

  <button class="btn btn-primary" mat-button (click)="submit()">
    <i class="fa-solid fa-check"></i> {{ lang.addNewDuty }}
  </button>
</div>
